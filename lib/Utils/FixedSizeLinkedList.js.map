{"version":3,"file":"FixedSizeLinkedList.js","names":["_LinkedList","require","FixedSizeLinkedList","LinkedList","totalPushed","periodHigh","periodLow","Infinity","periodSum","lastShift","_push","constructor","size","maintainHigh","maintainLow","maintainSum","push","data","add","length","shift","calculatePeriodHigh","calculatePeriodLow","iterator","resetCursor","next","current","exports","default"],"sources":["../../src/Utils/FixedSizeLinkedList.ts"],"sourcesContent":["/**\r\n * Created by AAravindan on 5/7/16.\r\n */\r\nimport { LinkedList } from './LinkedList';\r\n\r\nexport default class FixedSizeLinkedList extends LinkedList {\r\n  public totalPushed:number = 0;\r\n  public periodHigh:number = 0;\r\n  public periodLow:number = Infinity;\r\n  public periodSum:number = 0;\r\n  public lastShift:number;\r\n  public _push:(data:number)=>void;\r\n  constructor(public size:number,public maintainHigh?:boolean,public maintainLow?:boolean, public maintainSum?:boolean) {\r\n    super();\r\n    if(!size || typeof size !== 'number'){\r\n      throw('Size required and should be a number.');\r\n    }\r\n    this._push = this.push;\r\n    this.push = function(data) {\r\n      this.add(data);\r\n      this.totalPushed++;\r\n    }\r\n  }\r\n\r\n  add(data:number) {\r\n    if(this.length === this.size){\r\n      this.lastShift = this.shift();\r\n      this._push(data);\r\n      //TODO: FInd a better way\r\n      if(this.maintainHigh )\r\n        if (this.lastShift == this.periodHigh)\r\n          this.calculatePeriodHigh();\r\n      if(this.maintainLow)\r\n        if (this.lastShift == this.periodLow)\r\n          this.calculatePeriodLow();\r\n      if(this.maintainSum) {\r\n        this.periodSum = this.periodSum - this.lastShift;\r\n      }\r\n    }else {\r\n      this._push(data);\r\n    }\r\n    //TODO: FInd a better way\r\n    if(this.maintainHigh )\r\n      if(this.periodHigh <= data)\r\n        (this.periodHigh = data);\r\n    if(this.maintainLow)\r\n      if(this.periodLow >= data)\r\n        (this.periodLow = data);\r\n    if(this.maintainSum) {\r\n      this.periodSum = this.periodSum + data;\r\n    }\r\n  }\r\n\r\n  *iterator() {\r\n    this.resetCursor();\r\n    while(this.next()){\r\n      yield this.current;\r\n    }\r\n  }\r\n\r\n  calculatePeriodHigh() {\r\n    this.resetCursor();\r\n    if(this.next())\r\n      this.periodHigh = this.current;\r\n    while(this.next()){\r\n      if(this.periodHigh <= this.current){\r\n        this.periodHigh = this.current;\r\n      };\r\n    };\r\n  }\r\n\r\n  calculatePeriodLow() {\r\n    this.resetCursor();\r\n    if(this.next())\r\n      this.periodLow = this.current;\r\n    while(this.next()){\r\n      if(this.periodLow >= this.current){\r\n        this.periodLow = this.current;\r\n      };\r\n    };\r\n  }\r\n}"],"mappings":"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","ignoreList":[]}